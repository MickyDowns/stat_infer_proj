{
    "contents" : "---\noutput: pdf_document\n---\nExponential Distributions and the Central Limit Theorem\n========================================================\n### Author: Michael Downs\n\n## Overview \nThis document illustrates the properties of the exponential distribution. Specifically, it:\n1. Simulates 1,000 samples of size n=40,\n2. Compares sample and theoretical distribution means, and \n3. Compares sample and theoretical distribution variances.\n\n### 1. Simulations\nThe following simulations generate samples from the exponential distribution whose pdf is given by: \n\\[f(x;\\lambda) = \\begin{cases} \\lambda e^{-\\lambda x} & x \\ge 0, \\\\ 0 & x < 0. \\end{cases}\\]\nwhere $\\lambda$ is the rate parameter (0.2 for all simulations) and $\\frac{1}{\\lambda}$ is both the distribution mean and its standard deviation. Below, I sample 1,000 n=40 samples from the exponential distribution for subsequent use. \n```{r fig.width=5, fig.height=2.5}\n\n# generating a matrix of 1,000 rows of n=40 samples for subsequent calculations\nnosim=1000; n=40\nset.seed(123); pop=matrix(rexp(nosim*n,rate=0.2),nosim)\n\n# as a point of reference, here is the distribution of the entire population \npar(mfrow=c(1,2))\nhist(rexp(pop,rate=0.2),main=\"'pop' dist'n\")\n\n# here is the distribution of a single sample\nhist(rexp(pop[1,],rate=0.2),main=\"n=40 samp dist'n\")\n```\n\n### 2. Compare sample and theoretical distribution means\nCentral Limit Thorem (CLT) states that the distribution of averages of IID variables becomes standard normal as the sample size increases.\n\\[\\frac{\\bar{X_n}-\\mu}{\\sigma/\\sqrt{n}}=\\frac{\\sqrt{n}(\\bar{X_n}-\\mu)}{\\sigma}=\\frac{\\text{Estimate - Mean of estimate}}{\\text{Std. Err. of estimate}}\\]\nThe implication for the **mean** is that, as sample size grows to the limit, 1. the sample mean converges on the population mean, and 2. the distribution of the sample means will be normal (i.e., $\\bar{X_n}\\sim N(\\mu,\\sigma^2/n)$). So, if CLT holds, the distibution of a large collection of sample means taken from an exponential distribution should be normal. Given that the standard normal distribution is centered on zero, the distribution of **normalized** exponential sample means should also center on zero. I demonstrate this in two way below:\n```{r fig.width=5, fig.height=2.5}\n\n# 1. Showing \"consistency\" between mathmatical population mean and the mean of samples:\n### a. Generate a vector of 1,000 means for each n=40 sample in the pop matrix\nmns_pop_smpl=apply(pop,1,mean)\n### b. normalize means by subtracting their mean and dividing by their standard deviation\nnormalized=(mns_pop_smpl-mean(mns_pop_smpl))/sd(mns_pop_smpl)\n### c. calculate the sum of the normalized vector which is, essentially, zero.  \nsum(normalized)\n### d. plot the normalized vector to see that it is centered on zero. \npar(mfrow=c(1,1)); hist(normalized)\n\n# 2. Showing convergence of normalized sample means to the population mean (zero) as n grows.\nset.seed=(123); n=10000 \nmeans=((cumsum(rexp(n,rate=0.2))/(1:n)-mean(pop))/sd(pop))\nlibrary(ggplot2); g=ggplot(data.frame(x=1:n,y=means),aes(x=x,y=y))\ng=g+geom_hline(yintercept=0)+geom_line(size=2)\ng=g+labs(x=\"Number of jobs\",y=\"Cumulative mean\"); g\n```\n\n### 3. Compare sample and theoretical distribution variances\nGiven that the population variance is squared distance of a random variable from the population mean ($Var(X)=E[(X-\\mu)^2]=E[X^2]-E[X]^2$) and the sample variance is the average squared distance of the observed observations from the sample mean ($S^2=\\frac{\\sum_{i=1} (X_i-\\bar{X})^2}{n-1}$), CLT suggests that, as the sample size grows, the sample variance should converge with the population variance. I demonstrate this below:\n```{r fig.width=5, fig.height=2.5}\n\n# The center of a distribution of sample variances should equal the population variance.\n## a. calculate the population variance\nset.seed(123); pop_var=var(rexp(40000, rate=0.2));pop_var\n\n## b. calculate the mean of 1,000 sample variances\nvrs_pop_smpl=apply(pop,1,var)\nmn_smpl_var=mean(vrs_pop_smpl);mn_smpl_var\n\n## c. plot the distribution of sample variances which are centered on population variance.\ntag=c(\"pop var:\",round(pop_var,2),\" mean sample vars:\",round(mn_smpl_var,2))\npar(mfrow=c(1,1)); hist(vrs_pop_smpl,main=tag)\n```\n",
    "created" : 1421954433625.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1185897709",
    "id" : "A5B9327E",
    "lastKnownWriteTime" : 1422129756,
    "path" : "~/Documents/Pers/Ed/Courses/JH5 - statistical inference/stat_infer_proj/si_proj_mstr.Rmd",
    "project_path" : "si_proj_mstr.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}